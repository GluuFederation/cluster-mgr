{% extends "base.html" %}
{% from 'macros.html' import render_radio_field, render_field %}
{% block content %}
<h2 class="page-header">oxAuth Key Rotation</h2>
<form action="{{ url_for('key_rotation') }}" method="POST">
    {{ form.csrf_token }}
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Key Rotation</h3>
        </div>
        <div class="panel-body">
            <div class="form-group {{ 'has-error' if form.interval.errors else '' }}">
                {{ form.interval.label(class="control-label") }}
                <div class="input-group">
                    {{ form.interval(class="form-control") }}
                    <span class="input-group-addon">days</span>
                </div>
                {% for error in form.interval.errors %}
                    <p class="help-block">{{ error }}</p>
                {% endfor %}
            </div>
            <div class="form-group {{ 'has-error' if form.type.errors else '' }}">
                {{ form.type.label(class="control-label") }}
                <div class="input-group">
                    {{ render_radio_field(form.type) }}
                </div>
                {% for error in form.type.errors %}
                    <p class="help-block">{{ error }}</p>
                {% endfor %}
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">oxEleven Integration</h3>
        </div>
        <div class="panel-body">
            {{ render_field(form.oxeleven_url, help="Base URL of oxEleven app.") }}
            {{ render_field(form.oxeleven_token, help="Auth token required for accessing oxEleven API.") }}
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">LDAP Integration</h3>
        </div>
        <div class="panel-body">
            {{ render_field(form.inum_appliance, help="Inum appliance for searching the LDAP entry") }}
        </div>
    </div>
    <button type="submit" class="btn btn-primary">Rotate Key</button>
</form>
{% endblock %}
