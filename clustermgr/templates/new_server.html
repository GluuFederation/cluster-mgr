{% extends "base.html" %}
{% from 'macros.html' import render_field, render_checkbox_field, render_form %}
{% block  content %}

<h2 class="page-header"> {{ header }}</h2>

<form id="form" action="" method="POST">
    {{ form.csrf_token }}
    {{ render_field(form.ip) }}
    {{ render_field(form.hostname) }}
    {{ render_field(form.ldap_password) }}
    {{ render_field(form.ldap_password_confirm) }}
    {{ render_checkbox_field(form.gluu_server) }}
    {{ render_checkbox_field(form.primary_server) }}

    <input type="submit" name="submit" value="Submit" class="btn btn-primary">

</form>

    <!-- Alert Modal before a server is removed from the cluster -->
    <div id="passwordMismatch" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Password Mismatch</h4>
                </div>
                <div class="modal-body">
                   <p>Please enter same password.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->


{% endblock %}

{% block js %}
<script>

$('input[type=submit]').click(function(e){
    if($("#ldap_password").val() != $("#ldap_password_confirm").val())
    {
    //alert("Passwords mismatch");
    $('#passwordMismatch').modal('show');
    return false;
    }
    });


</script>

{% endblock %}
