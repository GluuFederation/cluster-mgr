{% from 'macros.html' import render_field, render_checkbox_field, render_form %}


            {{ cform.csrf_token }}
            <div class="form-group {{ 'has-error' if cform.gluu_version.errors else '' }}">
                {{ cform.gluu_version.label(class="control-label col-md-4") }}
                <div class="col-md-{% if cform.gluu_archive.choices %}3{%else%}8{%endif%}">
                    {{ cform.gluu_version(class="form-control", disabled=is_primary_deployed) }}
                     <span class="form-text text-warning">
                            {{cform.gluu_version.description}}
                        </span>
                </div>

                {% if cform.gluu_archive.choices %}
                    <div class="col-md-5">
                    {{ render_checkbox_field(cform.offline) }}
                    </div>
                {% endif %}
                
                {% for error in cform.gluu_version.errors %}
                <p class="help-block">{{ error }}</p>
                {% endfor %}
            </div>
            {% if cform.gluu_archive.choices %}
        
            <div class="form-group {{ 'has-error' if cform.gluu_archive.errors else '' }} {% if not cform.offline.data %}hidden{% endif %}" id="div-gluu-archive">

                    {{ cform.gluu_archive.label(class="control-label col-md-4") }}
                    <div class="col-md-7" data-toggle="gluu-repo-tooltip"> {{ cform.gluu_archive(class="form-inline form-control") }}
                    
                     {% for error in cform.gluu_archive.errors %}
                    <p class="help-block">{{ error }}</p>
                    {% endfor %}
                    </div>

 
            </div>
            
            <div class="form-group {{ 'has-error' if cform.ldap_update_period.errors else '' }}">
                {{ cform.ldap_update_period.label(class="control-label col-md-6") }}
                <div class="col-md-6">
                    {{ cform.ldap_update_period(class="form-control") }}
                    {% for error in cform.ldap_update_period.errors %}
                        <p class="help-block">{{ error }}</p>
                    {% endfor %}
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-1 col-md-10">
                    {{ render_checkbox_field(cform.modify_hosts) }}
                </div>
            </div>

            
        {% else %}
            <center>To enable offline installation please put gluu <b>.deb</b> or <b>.rpm</b> archives to <code>{{repo_dir}}</code> </center>            
        {% endif %}


<script>

$("#offline").change(function() {
  $("#div-gluu-archive").toggleClass('hidden');
});



</script>
