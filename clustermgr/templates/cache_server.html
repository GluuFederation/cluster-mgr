{% from 'macros.html' import render_checkbox_field %}

{{ form.csrf_token }}

  <div class="form-group {{ 'has-error' if form.hostname.errors else '' }}">
    <label class="control-label col-sm-4" for="email">{{ form.hostname.label}}:</label>
      <div class="col-sm-8">
        {{ form.hostname(class="form-control") }}
        
        {% for error in form.hostname.errors %}
            <p class="help-block">{{ error }}</p>
        {% endfor %}
      </div>
  </div>


  <div class="form-group {{ 'has-error' if form.ip.errors else '' }}">
    <label class="control-label col-sm-4" for="email">{{ form.ip.label}}:</label>
      <div class="col-sm-8">
        {{ form.ip(class="form-control") }}
        
        {% for error in form.ip.errors %}
            <p class="help-block">{{ error }}</p>
        {% endfor %}
      </div>
  </div>

<div class="form-group">
    <div class="col-md-offset-4 col-md-8">
        {{ render_checkbox_field(form.install_redis) }}
    </div>
</div>

<script>

$("#redis_password").attr("type","password");
var rps = $("#redis-password-show");

rps.click(function(e){
    if (rps.hasClass("glyphicon-eye-close")){
        rps.removeClass("glyphicon-eye-close");
        rps.addClass("glyphicon-eye-open");
        $("#redis_password").attr("type","password");
        }
    else {
        rps.removeClass("glyphicon-eye-open");
        rps.addClass("glyphicon-eye-close");
        $("#redis_password").attr("type","text");
        }
});

$("#install_redis").click(function(e){
  
  if ($("#install_redis").is(":checked")) {
      $("#redis_form").show();
} else {
    $("#redis_form").hide();
    }
})

</script>
